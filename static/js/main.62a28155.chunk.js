(this.webpackJsonpheadlines=this.webpackJsonpheadlines||[]).push([[0],{31:function(e,t,n){},37:function(e,t,n){},57:function(e,t,n){"use strict";n.r(t);var a=n(2),s=n.n(a),r=n(22),c=n.n(r),i=(n(31),n(8)),o=n(9),l=n(26),u=n(25),h=n(4);var d={technology:"technology",science:"science",business:"business",genarel:"genarel",edocation:"edocation",sports:"sports"},j=n(5),g=n(6),b=n(7),m=n(0);function x(e){var t=e.search,n=Object(a.useState)(""),s=Object(h.a)(n,2),r=s[0],c=s[1];return Object(m.jsxs)("div",{className:"input-group",children:[Object(m.jsx)("input",{className:"form-control",type:"search",onChange:function(e){c(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&t(r)}}),Object(m.jsxs)("button",{className:"btn btn-light",onClick:function(){t(r)},children:[Object(m.jsx)(j.a,{icon:"search",size:"lg"})," "]})]})}function f(e){var t=e.newsCategory,n=e.handleCategory,r=e.searchTerm,c=Object(a.useState)(!1),i=Object(h.a)(c,2),o=i[0],l=i[1],u=function(){var e="undefined"!==typeof window,t=Object(a.useState)({width:e?window.innerWidth:1200,height:e?window.innerHeight:800}),n=Object(h.a)(t,2),s=n[0],r=n[1],c=function(){r({width:window.innerWidth,height:window.innerHeight})};return Object(a.useEffect)((function(){return window.addEventListener("resize",c),function(){window.removeEventListener("resize",c)}})),s}().width,b=s.a.createRef(),f=function(){l(!o)};return Object(m.jsxs)("div",{className:"",children:[Object(m.jsxs)("div",{className:"header",children:[Object(m.jsx)("h2",{className:"",ref:b,children:"blockbuster headline"}),u>830&&Object(m.jsx)(m.Fragment,{children:Object(m.jsx)(x,{search:r})}),u<830&&(o?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j.a,{icon:g.c,size:"lg",rotation:30,pull:"right",onClick:f}),Object(m.jsx)(x,{search:r})]}):Object(m.jsx)(j.a,{icon:g.b,onClick:f,size:"lg"}))]}),Object(m.jsx)("div",{className:"d-flex flex-wrap my-3 justify-content-center",children:d&&Object.keys(d).map((function(e){return t===e?Object(m.jsx)("button",{className:"btn mx-1 btn-primary",children:"#".concat(e)},e):Object(m.jsxs)("button",{value:e,onClick:function(e){n(e.target.value)},className:"btn mx-1 btn-light",children:["#".concat(e)," "]},e)}))})]})}b.b.add(g.b);n(37),n(38);function v(e){var t=e.item;return Object(m.jsxs)("div",{className:"card me-3 mb-3",children:[Object(m.jsx)("div",{className:"img bg-dark",children:t.urlToImage&&Object(m.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:Object(m.jsx)("img",{src:t.urlToImage,alt:t.title})})}),Object(m.jsxs)("div",{className:"text mt-3 mx-3",children:[Object(m.jsx)("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:Object(m.jsx)("h5",{className:"title",children:t.title})}),Object(m.jsxs)("p",{className:"deccription",children:[t.description," "]})]}),Object(m.jsxs)("div",{className:"d-flex mx-3",children:[Object(m.jsxs)("p",{className:"date",children:["pablished at: ",t.publishedAt]}),Object(m.jsxs)("button",{className:"btn btn-light mx-3 ms-auto",children:[t.source.name," "]})]})]})}function O(e){var t=e.news;return Object(m.jsxs)("div",{className:"d-flex flex-wrap my-1 justify-content-center",children:[t&&0===t.length&&Object(m.jsx)("h2",{className:"m-3",children:"there is no news"}),t&&t.map((function(e){return Object(m.jsx)(v,{item:e},e.title)}))]})}var p=n(12),y=n.n(p),N=n(23),P=n(24),w=n.n(P).a.create({baseURL:"https://newsapi.org/v2/top-headlines"});w.defaults.headers.common["X-Api-Key"]="f1996005da9447098d7ea3a505712153";var _=w;function k(){return Object(m.jsxs)("div",{className:"my-5 d-flex mx-5",children:[Object(m.jsx)("p",{children:"Loading..."}),Object(m.jsx)("div",{className:"spinner-border text-primary ms-auto",role:"status",children:Object(m.jsx)("span",{className:"visually-hidden",children:"loading..."})})]})}function S(e){var t=e.totalResults,n=e.currentPage,a=e.totalPage;return Object(m.jsxs)("div",{className:"d-flex mx-5",children:[Object(m.jsxs)("p",{className:"small",children:["about ",t," results found"]}),Object(m.jsxs)("p",{className:"small ms-auto",children:["page ",n," of ",a," "]})]})}function C(e){var t=e.Prev,n=e.Next,s=e.isPrev,r=e.isNext,c=e.currentPage,i=e.totalPage,o=e.page,l=Object(a.useState)(!1),u=Object(h.a)(l,2),d=u[0],j=u[1],g=Object(a.useState)(),b=Object(h.a)(g,2),x=b[0],f=b[1];return Object(m.jsxs)("div",{className:"d-flex align-items-center my-3 mx-4",children:[Object(m.jsx)("button",{className:"btn btn-primary",disabled:!s,onClick:function(){t()},children:"prev"}),Object(m.jsx)("div",{className:"flex-grow-1 text-center",children:d?Object(m.jsx)("input",{type:"number",value:x,onChange:function(e){f(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&o(x)}}):Object(m.jsxs)("div",{onDoubleClick:function(){return j(!0)},children:["page ",c," of ",i," ",Object(m.jsx)("br",{}),Object(m.jsx)("p",{className:"small m-0",children:"double tap to jump"})]})}),Object(m.jsx)("button",{className:"btn btn-primary ms-auto",disabled:!r,onClick:function(){n()},children:"next"})]})}var L=new(function(){function e(){var t=this;Object(i.a)(this,e),this._url=function(){var e="/?";return t._category&&(e+="category=".concat(t._category)),t._searchTerm&&(e+="&q=".concat(t._searchTerm)),t._currentPage&&(e+="&page=".concat(t._currentPage)),t._pageSize&&(e+="&pageSize=".concat(t._pageSize)),e},this._category="technology",this._searchTerm="",this._currentPage=1,this._totalPage=1,this._pageSize=12}return Object(o.a)(e,[{key:"getNews",value:function(){var e=Object(N.a)(y.a.mark((function e(){var t,n;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.get(this._url());case 3:return t=e.sent,n=t.data,this._totalPage=Math.ceil(n.totalResults/this._pageSize),e.abrupt("return",{articles:n.articles,totalResults:n.totalResults,currentPage:this._currentPage,category:this._category,totalPage:this._totalPage,isNext:this._isNext(),isPrev:this._isPrev()});case 9:throw e.prev=9,e.t0=e.catch(0),new Error(e.t0);case 12:case"end":return e.stop()}}),e,this,[[0,9]])})));return function(){return e.apply(this,arguments)}}()},{key:"next",value:function(){return!!this._isNext()&&(this._currentPage++,this.getNews())}},{key:"prev",value:function(){return!!this._isPrev()&&(this._currentPage--,this.getNews())}},{key:"setCurrentPage",value:function(e){return e>=1&&e<=this._totalPage?(this._currentPage=e,this.getNews()):console.log("invaild page number")}},{key:"changeCategory",value:function(e){return this._category=e,this._currentPage=1,this.getNews()}},{key:"handleSearch",value:function(e){return this._searchTerm=e,this.getNews()}},{key:"_isNext",value:function(){return this._currentPage<this._totalPage}},{key:"_isPrev",value:function(){return this._currentPage>1}}]),e}()),T=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).Prev=function(){a.setState({isLoading:!0}),L.prev().then((function(e){a.setState({data:e,isLoading:!1})}))},a.Next=function(){a.setState({isLoading:!0}),L.next().then((function(e){a.setState({data:e,isLoading:!1})}))},a.setPage=function(e){a.setState({isLoading:!0}),L.setCurrentPage(e).then((function(e){a.setState({data:e,isLoading:!1})}))},a.handleCategory=function(e){a.setState({isLoading:!0}),L.changeCategory(e).then((function(e){a.setState({data:e,isLoading:!1})}))},a.searchTerm=function(e){a.setState({isLoading:!0}),L.handleSearch(e).then((function(e){a.setState({data:e,isLoading:!1})}))},a.state={data:{},isLoading:!0},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;L.getNews().then((function(t){e.setState({data:t,isLoading:!1})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoading,n=e.data,a=n.articles,s=n.currentPage,r=n.totalPage,c=n.totalResults,i=n.isNext,o=n.isPrev,l=n.category;return Object(m.jsxs)("div",{children:[Object(m.jsx)(f,{newsCategory:l,handleCategory:this.handleCategory,searchTerm:this.searchTerm}),t?Object(m.jsx)(k,{}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(S,{totalResults:c,totalPage:r,currentPage:s}),Object(m.jsx)(O,{news:a}),Object(m.jsx)(C,{Next:this.Next,page:this.setPage,Prev:this.Prev,isNext:i,isPrev:o,currentPage:s,totalPage:r}),Object(m.jsx)("button",{className:"scrol-btn",onClick:function(){window.scroll(0,0)},children:Object(m.jsx)(j.a,{icon:g.a})})]})]})}}]),n}(a.Component),z=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,58)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,r=t.getLCP,c=t.getTTFB;n(e),a(e),s(e),r(e),c(e)}))};c.a.render(Object(m.jsx)(s.a.StrictMode,{children:Object(m.jsx)(T,{})}),document.getElementById("root")),z()}},[[57,1,2]]]);
//# sourceMappingURL=main.62a28155.chunk.js.map